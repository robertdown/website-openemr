{{ define "main" }}
<main class="page container-fluid lectures-list" title="Lecture Series">
  <div class="row">
    <div class="col-xs-12 col-md-8 offset-md-2 mb-2">
      <h1 class="pb-2 mb-0">{{ .Title }}</h1>
      <p class="lead">{{ .Content }}</p>
        <div class="row">
          <div class="col-sm-12 col-md pb-4 pb-sm-0">
            {{ with .Params.day }}
              <dl>
                <dt><strong>The Day</strong></dt>
                <dd>{{ . }}</dd>
              </dl>
            {{ end }}
            {{ with .Params.time }}
              <dl>
                <dt><strong>The Time</strong></dt>
                <dd>{{ . }}</dd>
              </dl>
            {{ end }}
            {{ with .Params.meeting_id }}
              <dl>
                <dt><strong>The Meeting ID</strong></dt>
                <dd>{{ . }}</dd>
              </dl>
            {{ end }}
            {{ with .Params.passcode }}
              <dl>
                <dt><strong>The Passcode</strong></dt>
                <dd>{{ . }}</dd>
              </dl>
            {{ end }}
            {{ with .Params.international_numbers_href }}
              <a href=".">International Numbers Available</a>
            {{ end }}
            
          </div>
          <div class="col-sm-12 col-md">
            <div class="d-grid gap-1"><a href="https://zoom.us/j/{{ .Params.meeting_id }}" target="_blank" class="btn btn-outline-primary">Launch Zoom Meeting</a></div>
            <div class="text-center pt-3 text-muted"><i class="fa fa-phone"></i>&nbsp;Auto Join by Location</div>
            {{ with .Params.auto_join_numbers }}
              {{ range .}}
                <div class="d-grid gap-1"><a href="tel:{{ .number }},{{ .Params.meeting_id }}#,,#,{{ .Params.passcode }}#" class="btn m-1 text-start btn-outline-dark d-flex"><span class="flex-fill">{{ .location }}</span><span>({{ substr .number 0 3  }}) {{ substr .number 2 3}}-{{ substr .number 5 4 }}</span></a></div>
              {{ end }}
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <ul class="col-xs-12 col-md-8 offset-md-2 list-unstyled">
      {{ range where .Site.RegularPages "Section" "lectures" }}
      <li id="{{ anchorize .Title }}" class="border-bottom border-top pt-4 pb-2">
        <h2>
          {{ .Scratch.Set "lectureDate" (cond (isset .Params "publishDate") .Params.publishDate .Params.date) }}
          {{ if gt (.Scratch.Get "lectureDate" | time.AsTime) now }}
            <small class="badge radius-none py-1 px-2 bg-primary text-white text-opacity-75">Upcoming</small>
          {{ end }}
          <a href="{{ .Permalink }}">{{ .Title }}</a>
        </h2>
        <div class="d-block">{{ .Params.presenter }}</div>
        <div class="d-block">{{ .Scratch.Get "lectureDate" | time.Format "Monday, January 2, 2006" }}</div>
        <div class="d-block pt-2">
          <p class="lead">{{ .Content }}</p>
        </div>
        <div class="d-block">
          {{ if isset .Params "youtube_id" }}
            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
              <iframe src="https://www.youtube.com/embed/{{ .Params.youtube_id }}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen title="YouTube Video"></iframe>
            </div>
          {{ end }}
          {{ if isset .Params "zoom_url" }}
            <a href="{{ .Params.zoom_url }}" target="_blank"><img src="{{ .Params.image | absURL }}" class="img-fluid w-50" alt=""></a>
          {{ end }}
        </div>
      </li>
      {{ end }}
    </ul>
  </div>
</main>
{{ end }}

